// $MinimumShaderProfile: ps_3_0

sampler s0 : register(s0); 

float4 p0 : register(c0); 
float4 p1 : register(c1); 

#define width (p0[0]) 
#define height (p0[1]) 
#define counter (p0[2]) 
#define clock (p0[3]) 
#define one_over_width (p1[0]) 
#define one_over_height (p1[1]) 

#define PI acos(-1) 

#define lerper 1.05

float rgbMax (float3 c){
return max(c.r,max(c.g,c.b));
}


static float A[48] = {1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,0,0};
static float S[48]  = {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,32.80587367971664,32.102565363131816,111.14112887799806,32.19856028447309,212.56714740848332,32.36907852551868,32.085128431080406,53.82563265735752,32.077307017216036,68.4352199595471,32.32755292971782,32.16279490343443,49.11887223122537,32.1186242699209,-38.076556133445955,81.516634686721,90.09185459376708,234.20725899203978,14.81440550993203,-19.458049131046792,-19.419260802891216};

float actFunc(float x){
	//if (dx) return ((Math.exp(1) - 1)*exp(x))/((exp(x) + exp(1))*(1 + exp(x)));
	return log((1+exp(x))/(1+exp(x-1)));   
  }

float4 activate(float4 c0,float4 c1,float4 c2,float4 c3,float4 c4, float4 c5,float4 c6,float4 c7,float4 c8,float4 c9){

A[0]=c1.r;
A[1]=c1.g;
A[2]=c1.b;
A[3]=c2.r;
A[4]=c2.g;
A[5]=c2.b;
A[6]=c3.r;
A[7]=c3.g;
A[8]=c3.b;
A[9]=c4.r;
A[10]=c4.g;
A[11]=c4.b;
A[12]=c5.r;
A[13]=c5.g;
A[14]=c5.b;
A[15]=c6.r;
A[16]=c6.g;
A[17]=c6.b;
A[18]=c7.r;
A[19]=c7.g;
A[20]=c7.b;
A[21]=c8.r;
A[22]=c8.g;
A[23]=c8.b;
A[24]=c9.r;
A[25]=c9.g;
A[26]=c9.b;

S[27] = A[26] * 1.0020042521184458 + A[25] * 1.7203838135975447 + A[24] * 0.9144553975415484 + A[23] * 0.6806399337313366 + A[22] * 1.3574932655809098 + A[21] * 1.0898617623535671 + A[20] * 0.8487152810413502 + A[19] * 1.297899886483366 + A[18] * 1.2136647583327012 + A[17] * 0.581758122921766 + A[16] * 1.4179724073311646 + A[15] * 0.8713263210432961 + A[14] * 0.3726443223634887 + A[13] * 1.1406105825450907 + A[12] * 0.8971107636935279 + A[11] * 0.7915281748621561 + A[10] * 1.190890778950099 + A[9] * 0.9296006542967077 + A[8] * 0.730556337160827 + A[7] * 1.0359303643217164 + A[6] * 0.5142642167116779 + A[5] * 0.8879361257176159 + A[4] * 1.0790937952052415 + A[3] * 0.7979021275534363 + A[2] * 1.2908483883141209 + A[1] * 1.047176370703934 + A[0] * 0.8303486138549105 + 6.2732568613851045;
A[27] = actFunc(S[27]);
S[28] = A[26] * 1.2624616413723975 + A[25] * 1.0530502510014854 + A[24] * 0.7234093270173102 + A[23] * 1.1936806460313385 + A[22] * 0.9815363943646987 + A[21] * 0.870414106561327 + A[20] * 1.2256006695765875 + A[19] * 1.0373726095787816 + A[18] * 0.9050567444538974 + A[17] * 1.2772508466962487 + A[16] * 0.9752440653258094 + A[15] * 0.7233837429659354 + A[14] * 1.0308419407676779 + A[13] * 0.9220447710163153 + A[12] * 0.7944595346327559 + A[11] * 1.2172963945522626 + A[10] * 0.9225075229986299 + A[9] * 0.861346371301733 + A[8] * 1.1162841369962289 + A[7] * 0.9481771144130969 + A[6] * 0.6829449610024478 + A[5] * 1.1929856564655377 + A[4] * 0.902737211500306 + A[3] * 0.7429682105710488 + A[2] * 1.2834348782027802 + A[1] * 0.8758926417575467 + A[0] * 0.7989563027000154 + 5.581226669307618;
A[28] = actFunc(S[28]);
S[29] = A[26] * -22.251848232845706 + A[25] * -55.17847165013376 + A[24] * 3.905761169139564 + A[23] * 23.048181161405783 + A[22] * -6.390639969220532 + A[21] * 39.602031085615145 + A[20] * -14.541221680899712 + A[19] * -28.047724608660975 + A[18] * 30.174318479065544 + A[17] * 17.74031280648681 + A[16] * 21.345849414375863 + A[15] * 71.12893675138886 + A[14] * 66.53752187445181 + A[13] * 79.23165997577875 + A[12] * 126.97015856418669 + A[11] * 9.229186183175274 + A[10] * 16.620407059607498 + A[9] * 49.911582793859544 + A[8] * -27.599094553077446 + A[7] * -4.646770616127598 + A[6] * 6.749574830362174 + A[5] * 15.408806348652094 + A[4] * 2.6464796527514856 + A[3] * 4.771912882151953 + A[2] * 2.794354652461131 + A[1] * -15.604726337194043 + A[0] * -19.214497899803543 + -283.20091125895465;
A[29] = actFunc(S[29]);
S[30] = A[26] * 1.603470522256757 + A[25] * 0.7900906189868759 + A[24] * 0.7657446671284632 + A[23] * 1.6623676094178195 + A[22] * 0.8028342197160718 + A[21] * 0.7040600611847646 + A[20] * 1.2987783306321496 + A[19] * 0.8565012659968811 + A[18] * 0.6428912724424006 + A[17] * 1.6858446141420784 + A[16] * 0.7393012635813193 + A[15] * 0.768799404278833 + A[14] * 1.689100006518941 + A[13] * 0.7862430186257191 + A[12] * 0.9462526619661716 + A[11] * 1.366599752245218 + A[10] * 0.7648177700866045 + A[9] * 0.6704920197769179 + A[8] * 1.5913958447632826 + A[7] * 0.8336756475782738 + A[6] * 0.934672154257306 + A[5] * 1.212724260266345 + A[4] * 0.836736498741528 + A[3] * 0.7952291920821544 + A[2] * 1.0644234748246113 + A[1] * 0.7508242849168205 + A[0] * 0.7166446719963568 + 4.918045176062427;
A[30] = actFunc(S[30]);
S[31] = A[26] * -5.213287328792791 + A[25] * 5.545679254720015 + A[24] * 7.15046711913834 + A[23] * 13.430974875480523 + A[22] * 1.5699614812592975 + A[21] * -7.563394753971899 + A[20] * 1.8072486473367408 + A[19] * -10.790919499434057 + A[18] * -1.8657848702592377 + A[17] * 33.043308964235536 + A[16] * 3.266931240893575 + A[15] * 3.8998392463254064 + A[14] * 106.18094119533555 + A[13] * 10.926141482364224 + A[12] * 30.130074044780592 + A[11] * 26.624607417241506 + A[10] * 3.296653402222762 + A[9] * 19.288912924058454 + A[8] * -8.779898945384039 + A[7] * -7.214720548816915 + A[6] * 14.81950098821151 + A[5] * 7.043923922910526 + A[4] * 4.286516474301946 + A[3] * 3.5279368467885965 + A[2] * 1.6473621557084808 + A[1] * -8.478124483719563 + A[0] * 2.630046300056434 + -37.643750144508154;
A[31] = actFunc(S[31]);
S[32] = A[26] * 1.70805974126785 + A[25] * 0.6971412312896661 + A[24] * 0.8005864227088398 + A[23] * 1.7098876833693246 + A[22] * 0.6783301035493678 + A[21] * 0.7408092051058616 + A[20] * 1.5122327570782224 + A[19] * 0.6870406212113978 + A[18] * 0.6707514853184662 + A[17] * 1.8042713724907649 + A[16] * 0.7287387382039615 + A[15] * 0.9462767917756861 + A[14] * 1.7120302353806656 + A[13] * 0.7419720851348081 + A[12] * 0.8845731868981376 + A[11] * 1.319292859298212 + A[10] * 0.757396996825489 + A[9] * 0.8090445950482288 + A[8] * 1.5437047157369004 + A[7] * 0.8505167394755804 + A[6] * 0.9035726805057459 + A[5] * 1.28515482321991 + A[4] * 0.7642075062234664 + A[3] * 0.8070759160963397 + A[2] * 1.1158625827660449 + A[1] * 0.712603944595728 + A[0] * 0.6655544464474795 + 4.812389058496536;
A[32] = actFunc(S[32]);
S[33] = A[26] * 1.0982004100853802 + A[25] * 1.3668814659320698 + A[24] * 0.8513654510084774 + A[23] * 0.887608705974465 + A[22] * 1.0801330551789383 + A[21] * 0.8984346053288045 + A[20] * 1.0953364033286668 + A[19] * 1.0378067487757112 + A[18] * 0.9385125208328747 + A[17] * 1.0037386247398958 + A[16] * 1.065047967783957 + A[15] * 0.7462104071006112 + A[14] * 0.8353322758152559 + A[13] * 1.0547659843070336 + A[12] * 0.7723548157968971 + A[11] * 0.9648253594560569 + A[10] * 0.9145239945619563 + A[9] * 0.8519922147673314 + A[8] * 0.9006697880066333 + A[7] * 1.0473440073563385 + A[6] * 0.7062612517978236 + A[5] * 1.0859533543687707 + A[4] * 1.035081121829518 + A[3] * 0.7286705002542979 + A[2] * 1.2140334409893803 + A[1] * 1.0520100080750014 + A[0] * 0.8419392034946233 + 6.010094744133635;
A[33] = actFunc(S[33]);
S[34] = A[26] * 24.372108035101515 + A[25] * 0.6893013285575645 + A[24] * 3.499430981434015 + A[23] * 26.962692700127814 + A[22] * -7.547978569222902 + A[21] * -7.599693040711697 + A[20] * 9.235917681024109 + A[19] * -6.433378631770312 + A[18] * -11.170691621989159 + A[17] * 20.467003582033435 + A[16] * -9.426529454097693 + A[15] * 1.1487439601309242 + A[14] * 18.999235012962504 + A[13] * -18.041368412487735 + A[12] * -9.607440362211648 + A[11] * 6.578766457998516 + A[10] * -6.589025027962692 + A[9] * -8.120308612237622 + A[8] * 3.9182840617925234 + A[7] * -10.876587657875094 + A[6] * -4.569167092877888 + A[5] * 5.11482276251723 + A[4] * -9.053106076184779 + A[3] * -0.7499829889256856 + A[2] * 13.748558256718256 + A[1] * 5.59696015805738 + A[0] * 11.836094974754777 + 11.442970252701853;
A[34] = actFunc(S[34]);
S[35] = A[26] * 1.3977943060733822 + A[25] * 1.0080374876297047 + A[24] * 0.8435593651713343 + A[23] * 1.2562856517134535 + A[22] * 1.028944434078596 + A[21] * 0.8285841253640776 + A[20] * 1.1894671655834905 + A[19] * 0.8870663783757968 + A[18] * 0.8988295908605516 + A[17] * 1.0857923519783652 + A[16] * 0.9717841140179946 + A[15] * 0.7671841986225633 + A[14] * 1.1169236795036435 + A[13] * 0.8556259374699304 + A[12] * 0.7616618058710339 + A[11] * 1.0776389667230737 + A[10] * 0.882531589132002 + A[9] * 0.7200021102183105 + A[8] * 1.2531092363792677 + A[7] * 1.0285645059164727 + A[6] * 0.7587111735975877 + A[5] * 1.121587682267545 + A[4] * 0.9795073375648549 + A[3] * 0.7376403135604476 + A[2] * 1.2165356545320556 + A[1] * 0.9985953100794938 + A[0] * 0.8130629262291443 + 5.592279618701863;
A[35] = actFunc(S[35]);
S[36] = A[26] * 1.2495685715106932 + A[25] * -0.33749212427758013 + A[24] * 2.5746635045302466 + A[23] * 4.53784122467532 + A[22] * 1.4655009326175887 + A[21] * 2.612631152045998 + A[20] * 3.8908882394079303 + A[19] * 1.3797418228598295 + A[18] * 1.6592024754514076 + A[17] * 4.768841802556866 + A[16] * 1.0590738789532232 + A[15] * 3.467371704749027 + A[14] * 8.382583227055683 + A[13] * 3.24409617219328 + A[12] * 4.101708302144055 + A[11] * 4.97715960991759 + A[10] * 2.9950805579674262 + A[9] * 2.767807438219124 + A[8] * 2.9098000045384014 + A[7] * 0.23487563476686749 + A[6] * 2.487208002943716 + A[5] * 2.2634878059024466 + A[4] * 1.2315344139208482 + A[3] * 1.1141434711238696 + A[2] * 1.033237247750498 + A[1] * 0.7837322932220747 + A[0] * 0.4003221356767408 + 1.1806104571239189;
A[36] = actFunc(S[36]);
S[37] = A[26] * 1.6671571427563274 + A[25] * 0.7151897487830888 + A[24] * 0.773309743946062 + A[23] * 1.6322430603985794 + A[22] * 0.7195619151041858 + A[21] * 0.8100091735051563 + A[20] * 1.3732703511494257 + A[19] * 0.6452235428209878 + A[18] * 0.7597868558166126 + A[17] * 1.6152542989763774 + A[16] * 0.8401226942200738 + A[15] * 0.913411597389317 + A[14] * 1.7343616143548481 + A[13] * 0.8061863158787134 + A[12] * 0.8620884816479194 + A[11] * 1.3836589991942145 + A[10] * 0.8216897934784052 + A[9] * 0.7862750947453325 + A[8] * 1.5737366104378252 + A[7] * 0.8926964957062958 + A[6] * 0.8109212119248321 + A[5] * 1.3023207152481862 + A[4] * 0.7133583748497704 + A[3] * 0.7948718625334594 + A[2] * 1.0756431276209886 + A[1] * 0.6513004469091069 + A[0] * 0.7761092952455527 + 4.877794365076173;
A[37] = actFunc(S[37]);
S[38] = A[26] * 1.069253762407258 + A[25] * 1.3796047056627392 + A[24] * 0.9884790225765195 + A[23] * 0.8942060693454162 + A[22] * 1.2962782908298878 + A[21] * 0.9296784676538832 + A[20] * 0.9341868160538278 + A[19] * 1.1278669896356739 + A[18] * 1.070604191026857 + A[17] * 0.6873680542807888 + A[16] * 1.1518006520039685 + A[15] * 0.7096096977890923 + A[14] * 0.5940031756207799 + A[13] * 1.1342567024397778 + A[12] * 0.8350927572549364 + A[11] * 1.0456234769948125 + A[10] * 1.0048237511355538 + A[9] * 0.8632291683799809 + A[8] * 0.7627807919371778 + A[7] * 1.1074891692075564 + A[6] * 0.5992783915311278 + A[5] * 1.0225549927567485 + A[4] * 0.9136367192605451 + A[3] * 0.7040896673415996 + A[2] * 1.32719781283406 + A[1] * 1.0747997241264968 + A[0] * 0.7734882362793198 + 6.161513647068048;
A[38] = actFunc(S[38]);
S[39] = A[26] * 1.8979219242076053 + A[25] * -0.1551791785671936 + A[24] * 2.215504355397549 + A[23] * 3.512525757841104 + A[22] * 0.7562513587359276 + A[21] * 1.8207253823117608 + A[20] * 2.7163664055706436 + A[19] * 0.6494774321868452 + A[18] * 1.0008075090284443 + A[17] * 3.556719132650947 + A[16] * 0.49679388705060534 + A[15] * 2.5969474466782163 + A[14] * 5.367823518186741 + A[13] * 1.5666515923116857 + A[12] * 2.793460976641159 + A[11] * 3.0735489885665603 + A[10] * 1.5215882279044144 + A[9] * 1.8162741887912477 + A[8] * 1.9843949255787217 + A[7] * -0.11314685917109106 + A[6] * 2.2355440085491005 + A[5] * 1.2192697127982768 + A[4] * 0.5999982912062592 + A[3] * 1.0807470148489862 + A[2] * 0.4636170525409364 + A[1] * 0.4844639623770163 + A[0] * 0.7077973879439206 + 3.251977829058981;
A[39] = actFunc(S[39]);
S[40] = A[26] * 0.9700219031418109 + A[25] * 1.4331697901458804 + A[24] * 0.848189384230014 + A[23] * 0.9184103364602322 + A[22] * 1.1876952275101655 + A[21] * 0.9140270247769307 + A[20] * 0.9379001379615034 + A[19] * 1.2232411297907946 + A[18] * 0.92830469374207 + A[17] * 0.8129206622709654 + A[16] * 1.1294324081807279 + A[15] * 0.8417980505077799 + A[14] * 0.6619749879259077 + A[13] * 1.0567027081395515 + A[12] * 0.851200953591499 + A[11] * 0.9879870814438272 + A[10] * 0.9826632544443284 + A[9] * 0.8561866627016107 + A[8] * 0.9444939890130029 + A[7] * 0.9790640010600642 + A[6] * 0.5421911549452532 + A[5] * 0.9582626029973043 + A[4] * 1.0537213826081067 + A[3] * 0.72776903653593 + A[2] * 1.2799864034157125 + A[1] * 1.0765977228199914 + A[0] * 0.9003186057255442 + 6.114392973834396;
A[40] = actFunc(S[40]);
S[41] = A[26] * 41.31028803024807 + A[25] * -19.6017770362913 + A[24] * 56.323121246633455 + A[23] * -28.76458925154432 + A[22] * -71.26581553420311 + A[21] * 15.128172300985412 + A[20] * 20.004931793033585 + A[19] * -17.058632746171224 + A[18] * 61.205447480583615 + A[17] * 10.666299888245312 + A[16] * -39.190005935646276 + A[15] * 38.15728463254893 + A[14] * -75.43694316970904 + A[13] * -97.65166792417887 + A[12] * -26.111182382604287 + A[11] * 11.905624190946437 + A[10] * -23.957777140297733 + A[9] * 27.667403427100453 + A[8] * 25.87322528699811 + A[7] * -11.051393976217431 + A[6] * 59.82928991572122 + A[5] * -25.677591167057354 + A[4] * -63.73628197941467 + A[3] * 18.699061840587053 + A[2] * 27.310933303212977 + A[1] * -14.301498610372015 + A[0] * 48.800575949649875 + 12.846941433767178;
A[41] = actFunc(S[41]);
S[42] = A[26] * -12.856568875572718 + A[25] * 17.975646225260867 + A[24] * -38.35252200723395 + A[23] * 3.6516483937799253 + A[22] * 15.344441166572386 + A[21] * 1.2846855594807485 + A[20] * -8.870566287611865 + A[19] * 28.332571847516025 + A[18] * 13.749334532892293 + A[17] * -8.06784988616657 + A[16] * 46.56020289985116 + A[15] * -9.382072334751683 + A[14] * -17.35824994097837 + A[13] * 35.45040808819831 + A[12] * 3.3938584343034006 + A[11] * -9.493961370734057 + A[10] * 23.841839163513864 + A[9] * 6.3119889552335895 + A[8] * -1.5931283073347793 + A[7] * 32.81147665825134 + A[6] * -23.375586800849767 + A[5] * -3.9213518155890386 + A[4] * 23.33815857302796 + A[3] * -7.333145182631383 + A[2] * -19.395961630525864 + A[1] * 8.545741974294398 + A[0] * -13.473231775224525 + -5.601171570250716;
A[42] = actFunc(S[42]);
S[43] = A[26] * 0.4338622370435017 + A[25] * -1.715885528854327 + A[24] * 4.571836521909067 + A[23] * 5.242621193474604 + A[22] * 0.5124745083734633 + A[21] * 3.4003004227751448 + A[20] * 3.5562663001657304 + A[19] * -0.31287996155206055 + A[18] * 1.3077352950295864 + A[17] * 7.9647721858693155 + A[16] * 1.5188556501822625 + A[15] * 6.923992957370489 + A[14] * 14.536642815501658 + A[13] * 4.2856126132866885 + A[12] * 7.17494839692807 + A[11] * 6.834316327344833 + A[10] * 3.1468772615779366 + A[9] * 4.0359394382373015 + A[8] * 4.671929191491887 + A[7] * 0.63455026364679 + A[6] * 6.0171109094610795 + A[5] * 2.95517139208151 + A[4] * 1.8947064240195626 + A[3] * 2.0410742586524258 + A[2] * 0.324465929239528 + A[1] * 0.29234960199553256 + A[0] * 0.3685804760435732 + -2.5263724875280893;
A[43] = actFunc(S[43]);
S[44] = A[26] * -17.419705747938707 + A[25] * 16.235700572205403 + A[24] * 1.3716898039219232 + A[23] * 32.95554358799894 + A[22] * 19.81623327321367 + A[21] * -5.272945319741588 + A[20] * 7.650275458079922 + A[19] * 5.500004044919306 + A[18] * -16.41621202626929 + A[17] * 28.18812824229829 + A[16] * 12.142993990022477 + A[15] * -7.8868896451509265 + A[14] * 122.11592577012075 + A[13] * 18.742875487830595 + A[12] * 15.837882701934324 + A[11] * 30.24314006313045 + A[10] * 14.34263791121737 + A[9] * -0.14541506289741163 + A[8] * 3.530311812183891 + A[7] * 6.4288710487014535 + A[6] * 11.275163760578847 + A[5] * 15.027513677585109 + A[4] * 8.916637908149625 + A[3] * -18.87334009373883 + A[2] * -2.6643317689247485 + A[1] * -1.408485041972606 + A[0] * -24.38455499124269 + -41.64239042417579;
A[44] = actFunc(S[44]);
S[45] = A[27] * -1.446985078624693 + A[28] * 0.3259593977302953 + A[29] * 9.590711391966769 + A[30] * 2.0731694498093316 + A[31] * 5.559693319090564 + A[32] * 2.3406562221199105 + A[33] * -0.6426332660654654 + A[34] * -9.56957180668576 + A[35] * 0.3378646399527647 + A[36] * 6.262636664326119 + A[37] * 2.132841039840418 + A[38] * -1.0474212260110751 + A[39] * 6.4972436862303615 + A[40] * -0.8800400482378858 + A[41] * -8.049958328567527 + A[42] * -10.168302381954037 + A[43] * 1.9270243879475848 + A[44] * 7.6681513656632125 + -6.146592247166329;
A[45] = actFunc(S[45]);
S[46] = A[27] * -1.0454170616896368 + A[28] * -1.1823293711639344 + A[29] * -1.012523695592913 + A[30] * -0.9201462859184881 + A[31] * -1.0865095086058332 + A[32] * -1.175016174596028 + A[33] * -1.022936457824254 + A[34] * -1.037881163940282 + A[35] * -0.9954579223454251 + A[36] * -1.178123155758821 + A[37] * -1.02749339859907 + A[38] * -0.9445604014688841 + A[39] * -1.2048772813512307 + A[40] * -0.8469413853811024 + A[41] * -0.8793258859511991 + A[42] * -0.8901416081062608 + A[43] * -1.1741880975300332 + A[44] * -1.052862619762984 + -1.6606435414117695;
A[46] = actFunc(S[46]);
S[47] = A[27] * -1.0748217011064687 + A[28] * -1.1008001513157362 + A[29] * -0.8535163160915474 + A[30] * -0.9180938619391297 + A[31] * -1.0599872466029656 + A[32] * -1.0606020869156292 + A[33] * -1.1355764288804326 + A[34] * -1.0682846428183896 + A[35] * -1.056719227076165 + A[36] * -1.2282354592600861 + A[37] * -1.1615340140701258 + A[38] * -0.940957049961722 + A[39] * -1.2383964115052546 + A[40] * -0.8899489091794046 + A[41] * -0.775738825494906 + A[42] * -0.9443306023086906 + A[43] * -1.115100324573298 + A[44] * -1.0250074696690585 + -1.5473488996172717;
A[47] = actFunc(S[47]);

c0.r=A[45];
c0.g=A[46];
c0.b=A[47];
return c0;
}

float4 main(float2 tex : TEXCOORD0) : COLOR 
{ 

float dx = one_over_width;
float dy = one_over_height;

float4 c0 = tex2D( s0, tex ); 

float4 c10 = c0; 

float4 c1 =  tex2D( s0, tex + float2( -dx , -dy ) ); 
float4 c2 =  tex2D( s0, tex + float2( -dx , 0 ) ) ; 
float4 c3 =  tex2D( s0, tex + float2( -dx , dy ) ) ; 
float4 c4 =  tex2D( s0, tex + float2( 0 , -dy ) ) ; 

float4 c6 =  tex2D( s0, tex + float2( 0, dy ) ) ; 
float4 c7 =  tex2D( s0, tex + float2( dx , -dy ) ); 
float4 c8 =  tex2D( s0, tex + float2( dx , 0 ) ) ; 
float4 c9 =   tex2D( s0, tex + float2( dx , dy ) ); 

c10.rgb=activate(c0,c1,c2,c3,c4,c0,c6,c7,c8,c9);
float4 c11= (-(pow(1-pow(2*c10-1,2),0.5))+1);

float4 c12= saturate(c11-c11*c10);

float4 c13= -c10-c11+c12;

float3 c13max=rgbMax(c13.rgb);

c10.rgb =(c13max<1)?0:1; 

return c10;

}
